(function(e){function t(t){for(var s,n,i=t[0],c=t[1],l=t[2],f=0,d=[];f<i.length;f++)n=i[f],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],s=!0,i=1;i<o.length;i++){var c=o[i];0!==r[c]&&(s=!1)}s&&(a.splice(t--,1),e=n(n.s=o[0]))}return e}var s={},r={app:0},a=[];function n(t){if(s[t])return s[t].exports;var o=s[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=s,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("cd49")},"235f":function(e,t,o){"use strict";var s=o("4cc5"),r=o.n(s);r.a},"4cc5":function(e,t,o){},"7f09":function(e,t,o){"use strict";var s=o("fd0c"),r=o.n(s);r.a},"86d6":function(e,t,o){"use strict";var s=o("874f"),r=o.n(s);r.a},"874f":function(e,t,o){},"875a":function(e,t,o){"use strict";var s=o("ed2e"),r=o.n(s);r.a},a232:function(e,t,o){"use strict";var s=o("c7ea"),r=o.n(s);r.a},c1c3:function(e,t,o){},c7ea:function(e,t,o){},cd49:function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var s=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("main",{attrs:{id:"app"}},[o("router-view")],1)},a=[],n=o("2877"),i={},c=Object(n["a"])(i,r,a,!1,null,null,null),l=c.exports,u=o("8c4f"),f=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"home"},[o("FileBar"),o("div",{staticClass:"row-container"},[o("Toolbar"),o("Canvas")],1)],1)},d=[],m=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("nav",{staticClass:"filebar-container"},[e._l(e.files,(function(e,t){return o("FileTabButton",{key:t,attrs:{file:e}})})),o("button",{on:{click:this.createFile}},[o("i",{staticClass:"fas fa-plus"})]),o("button",{on:{click:this.saveFile}},[o("i",{staticClass:"fas fa-save"})])],2)},p=[],h=(o("ac1f"),o("5319"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:{filetabButton:!0,active:this.file.index==this.$store.state.currentIndex},on:{click:this.selectFile}},[e._v(" "+e._s(this.file.name)+" ")])}),b=[],v=(o("b0c0"),o("d4ec")),y=function e(t,o){Object(v["a"])(this,e),this.name=t,this.index=o},k=s["a"].extend({props:{file:{type:y,required:!0}},methods:{selectFile:function(){this.$store.commit("changeActiveFile",this.file.index)}}}),x=k,C=(o("86d6"),Object(n["a"])(x,h,b,!1,null,"44fa8546",null)),g=C.exports,w=s["a"].extend({name:"Filebar",components:{FileTabButton:g},methods:{createFile:function(){this.$store.commit("createFile")},saveFile:function(){var e=document.querySelector("canvas.p5Canvas"),t=document.createElement("a");t.setAttribute("download","untitled.png"),t.setAttribute("href",e.toDataURL("image/png").replace("image/png","image/octet-stream")),t.click()}},data:function(){return{files:this.$store.state.files}}}),$=w,X=(o("a232"),Object(n["a"])($,m,p,!1,null,"3b06d858",null)),Y=X.exports,F=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"current-file"})},_=[],S=(o("cb29"),o("2f62")),L=o("237d"),O=o.n(L),E=s["a"].extend({data:function(){return{instance:void 0}},mounted:function(){var e=this.$store;this.instance=new O.a((function(t){t.pencil=e.state.brush,t.setup=function(){var e=document.querySelector("section.current-file"),o=t.createCanvas(e.offsetWidth-50,e.offsetHeight-50);e.appendChild(o.elt),t.createTopLayer(e),t.topLayer.clear()},t.draw=function(){switch(t.background(255),t.image(t.topLayer,0,0),e.state.delete&&(t.topLayer.clear(),e.commit("delete",!1)),e.state.mode){case"brush":t.mouseIsPressed&&(t.topLayer.noStroke(),t.topLayer.fill(e.state.fillColor.rgba.r,e.state.fillColor.rgba.g,e.state.fillColor.rgba.b),t.topLayer.ellipse(t.mouseX,t.mouseY,t.pencil.size)),t.noFill(),t.stroke(0),t.ellipse(t.mouseX,t.mouseY,t.pencil.size);break;case"rect":t.drawGuide(),void 0!=e.state.rect.start.x&&void 0!=e.state.rect.start.y&&t.drawRect(t);break;case"ellipse":t.drawGuide(),void 0!=e.state.ellipse.start.x&&void 0!=e.state.ellipse.start.y&&t.drawEllipse(t);break}},t.drawGuide=function(){t.line(t.mouseX,t.mouseY,t.mouseX,t.mouseY-10),t.line(t.mouseX,t.mouseY,t.mouseX,t.mouseY+10),t.line(t.mouseX,t.mouseY,t.mouseX+10,t.mouseY),t.line(t.mouseX,t.mouseY,t.mouseX-10,t.mouseY)},t.drawRect=function(o){var s=e.state.shift,r=e.state.rect.start,a=s?t.min(t.abs(r.x-t.mouseX),t.abs(r.y-t.mouseY)):t.abs(r.x-t.mouseX),n=s?t.min(t.abs(r.y-t.mouseY),t.abs(r.x-t.mouseX)):t.abs(r.y-t.mouseY);o.fill(e.state.fillColor.hex),o.stroke(e.state.strokeColor.hex),t.mouseX>r.x&&t.mouseY>r.y?o.rect(r.x,r.y,a,n):t.mouseX>r.x&&t.mouseY<r.y?o.rect(r.x,t.mouseY,a,n):t.mouseX<r.x&&t.mouseY<r.y?o.rect(t.mouseX,t.mouseY,a,n):o.rect(t.mouseX,r.y,a,n)},t.drawEllipse=function(o){var s=e.state.shift,r=e.state.ellipse.start,a=s?t.min(t.abs(r.x-t.mouseX),t.abs(r.y-t.mouseY)):t.abs(r.x-t.mouseX),n=s?t.min(t.abs(r.y-t.mouseY),t.abs(r.x-t.mouseX)):t.abs(r.y-t.mouseY);o.ellipseMode(o.CORNER),o.fill(e.state.fillColor.hex),o.stroke(e.state.strokeColor.hex),t.mouseX>r.x&&t.mouseY>r.y?o.ellipse(r.x,r.y,a,n):t.mouseX>r.x&&t.mouseY<r.y?o.ellipse(r.x,t.mouseY,a,n):t.mouseX<r.x&&t.mouseY<r.y?o.ellipse(t.mouseX,t.mouseY,a,n):o.ellipse(t.mouseX,r.y,a,n)},t.mousePressed=function(o){switch(console.log(o),e.state.mode){case"rect":e.commit("rectStart",{x:t.mouseX,y:t.mouseY});break;case"ellipse":e.commit("ellipseStart",{x:t.mouseX,y:t.mouseY});break;default:break}},t.mouseReleased=function(){switch(e.state.mode){case"rect":t.topLayer.stroke(0),t.drawRect(t.topLayer),e.commit("rectEnd");break;case"ellipse":t.topLayer.stroke(0),t.drawEllipse(t.topLayer),e.commit("ellipseEnd");break;default:break}},t.keyPressed=function(){switch(t.keyCode){case 61:t.pencil.size+=2;break;case 173:t.pencil.size-=2;break;case 46:t.eraseCanvas(t.topLayer);break;case 16:e.commit("shift",!0);break;default:break}},t.keyReleased=function(){switch(t.keyCode){case 16:e.commit("shift",!1);break;default:break}},t.eraseCanvas=function(e){e.clear()},t.createTopLayer=function(e){t.topLayer=t.createGraphics(e.offsetWidth-50,e.offsetHeight-50),t.topLayer.clear()}}))}}),j=E,M=(o("875a"),Object(n["a"])(j,F,_,!1,null,null,null)),P=M.exports,T=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("aside",{staticClass:"toolbar"},[o("Sketch",{directives:[{name:"show",rawName:"v-show",value:"fill"==this.$store.state.colorMode,expression:"this.$store.state.colorMode == 'fill'"}],model:{value:e.$store.state.fillColor,callback:function(t){e.$set(e.$store.state,"fillColor",t)},expression:"$store.state.fillColor"}}),o("Sketch",{directives:[{name:"show",rawName:"v-show",value:"stroke"==this.$store.state.colorMode,expression:"this.$store.state.colorMode == 'stroke'"}],model:{value:e.$store.state.strokeColor,callback:function(t){e.$set(e.$store.state,"strokeColor",t)},expression:"$store.state.strokeColor"}}),o("div",{staticClass:"button-grid"},[o("button",{staticClass:"brush",on:{click:function(t){return e.mode("brush")}}},[o("i",{staticClass:"fas fa-paint-brush"})]),o("button",{staticClass:"rect",on:{click:function(t){return e.mode("rect")}}},[o("i",{staticClass:"far fa-square"})]),o("button",{staticClass:"ellipse",on:{click:function(t){return e.mode("ellipse")}}},[o("i",{staticClass:"far fa-circle"})]),o("button",{staticClass:"delete",on:{click:function(t){return e.del(!0)}}},[o("i",{staticClass:"fas fa-trash"})])]),o("div",{staticClass:"colors-grid"},[o("div",{staticClass:"color active fill",on:{click:function(t){return e.colorMode("fill")}}},[o("span",{style:"background:"+e.fillColor}),o("span",[e._v("Fill")])]),o("div",{staticClass:"color stroke",on:{click:function(t){return e.colorMode("stroke")}}},[o("span",{style:"background:"+e.strokeColor}),o("span",[e._v("Stroke")])])])],1)},q=[],R=(o("4160"),o("159b"),o("c345")),A=s["a"].extend({data:function(){return{}},methods:{mode:function(e){this.$store.commit("mode",e),document.querySelectorAll("div.button-grid > button.active").forEach((function(e){return e.classList.remove("active")})),document.querySelector("div.button-grid > button.".concat(e)).classList.add("active")},colorMode:function(e){this.$store.commit("colorMode",e),document.querySelectorAll("div.colors-grid > div.active").forEach((function(e){return e.classList.remove("active")}));var t=document.querySelector("div.colors-grid > div.".concat(e));t.classList.add("active")},del:function(e){this.$store.commit("delete",e)}},computed:{fillColor:function(){return this.$store.state.fillColor.hex},strokeColor:function(){return this.$store.state.strokeColor.hex}},components:{Sketch:R["Sketch"]}}),z=A,B=(o("235f"),Object(n["a"])(z,T,q,!1,null,"3050cd2e",null)),G=B.exports,H={name:"Home",components:{FileBar:Y,Canvas:P,Toolbar:G}},I=H,N=(o("7f09"),Object(n["a"])(I,f,d,!1,null,"3a01329c",null)),J=N.exports;o("c1c3");s["a"].use(u["a"]);var W=[{path:"/",name:"Home",component:J}],D=new u["a"]({mode:"history",base:"/",routes:W}),U=D;s["a"].use(S["a"]);var K=new S["a"].Store({state:{mode:"brush",colorMode:"fill",currentIndex:0,shift:!1,delete:!1,files:[new y("untitled-0.png",0)],brush:{size:10},rect:{start:{x:void 0,y:void 0}},ellipse:{start:{x:void 0,y:void 0}},fillColor:{rgba:{r:255,g:255,b:255},hex:"#FFFFFF"},strokeColor:{rgba:{r:74,g:144,b:226},hex:"#4A90E2"}},mutations:{changeActiveFile:function(e,t){e.currentIndex=t},createFile:function(e){e.files.push(new y("untitled-".concat(e.files.length,".png"),e.files.length))},mode:function(e,t){e.mode=t},shift:function(e,t){e.shift=t},delete:function(e,t){e.delete=t},colorMode:function(e,t){e.colorMode=t},rectStart:function(e,t){e.rect.start=t},rectEnd:function(e){e.rect.start={x:void 0,y:void 0}},ellipseStart:function(e,t){e.ellipse.start=t},ellipseEnd:function(e){e.ellipse.start={x:void 0,y:void 0}}}});s["a"].config.productionTip=!1,new s["a"]({router:U,store:K,render:function(e){return e(l)}}).$mount("#app")},ed2e:function(e,t,o){},fd0c:function(e,t,o){}});
//# sourceMappingURL=app.b15a35e5.js.map